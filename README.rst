===================================
darkFunction Editor to TexturePacker
===================================

Converts `darkFunction Editor <http://darkfunction.com/editor/>`_ sprite sheet animations format to `TexturePacker <www.codeandweb.com/texturepacker>`_ JSON format.

This format is ready to use in `Pixi <https://github.com/GoodBoyDigital/pixi.js>`_ and `Phaser <http://phaser.io/>`_.


Usage
=====

::

    python dfe_to_tp.py path/to/animation.sprite path/to/save/to.json



Example
=======


barbarian.sprites::

    <?xml version="1.0"?>
    <!-- Generated by darkFunction Editor (www.darkfunction.com) -->
    <img name="barbarian.png" w="390" h="581">
      <definitions>
        <dir name="/">
          <dir name="stand">
            <spr name="0" x="0" y="0" w="32" h="62"/>
          </dir>
          <dir name="walk">
            <spr name="0" x="35" y="0" w="28" h="62"/>
            <spr name="1" x="66" y="0" w="27" h="62"/>
            <spr name="2" x="96" y="0" w="27" h="62"/>
          </dir>
          <dir name="crouch">
            <spr name="0" x="128" y="0" w="32" h="48"/>
          </dir>
          <dir name="attack_sword">
            <spr name="0" x="199" y="0" w="46" h="51"/>
            <spr name="1" x="248" y="0" w="48" h="48"/>
            <spr name="2" x="299" y="0" w="28" h="48"/>
            <spr name="3" x="330" y="0" w="29" h="48"/>
            <spr name="4" x="0" y="69" w="60" h="48"/>
          </dir>
        </dir>
      </definitions>
    </img>


command::

    python dfe_to_tp.py barbarian.sprites barbarian.json


barbarian.json::

    {
        "frames": {
            "attack_sword_0": {
                "frame": {
                    "h": 51,
                    "w": 46,
                    "x": 199,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 51,
                    "w": 46
                },
                "spriteSourceSize": {
                    "h": 51,
                    "w": 46,
                    "x": 199,
                    "y": 0
                },
                "trimmed": false
            },
            "attack_sword_1": {
                "frame": {
                    "h": 48,
                    "w": 48,
                    "x": 248,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 48,
                    "w": 48
                },
                "spriteSourceSize": {
                    "h": 48,
                    "w": 48,
                    "x": 248,
                    "y": 0
                },
                "trimmed": false
            },
            "attack_sword_2": {
                "frame": {
                    "h": 48,
                    "w": 28,
                    "x": 299,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 48,
                    "w": 28
                },
                "spriteSourceSize": {
                    "h": 48,
                    "w": 28,
                    "x": 299,
                    "y": 0
                },
                "trimmed": false
            },
            "attack_sword_3": {
                "frame": {
                    "h": 48,
                    "w": 29,
                    "x": 330,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 48,
                    "w": 29
                },
                "spriteSourceSize": {
                    "h": 48,
                    "w": 29,
                    "x": 330,
                    "y": 0
                },
                "trimmed": false
            },
            "attack_sword_4": {
                "frame": {
                    "h": 48,
                    "w": 60,
                    "x": 0,
                    "y": 69
                },
                "rotated": false,
                "sourceSize": {
                    "h": 48,
                    "w": 60
                },
                "spriteSourceSize": {
                    "h": 48,
                    "w": 60,
                    "x": 0,
                    "y": 69
                },
                "trimmed": false
            },
            "crouch_0": {
                "frame": {
                    "h": 48,
                    "w": 32,
                    "x": 128,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 48,
                    "w": 32
                },
                "spriteSourceSize": {
                    "h": 48,
                    "w": 32,
                    "x": 128,
                    "y": 0
                },
                "trimmed": false
            },
            "stand_0": {
                "frame": {
                    "h": 62,
                    "w": 32,
                    "x": 0,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 62,
                    "w": 32
                },
                "spriteSourceSize": {
                    "h": 62,
                    "w": 32,
                    "x": 0,
                    "y": 0
                },
                "trimmed": false
            },
            "walk_0": {
                "frame": {
                    "h": 62,
                    "w": 28,
                    "x": 35,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 62,
                    "w": 28
                },
                "spriteSourceSize": {
                    "h": 62,
                    "w": 28,
                    "x": 35,
                    "y": 0
                },
                "trimmed": false
            },
            "walk_1": {
                "frame": {
                    "h": 62,
                    "w": 27,
                    "x": 66,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 62,
                    "w": 27
                },
                "spriteSourceSize": {
                    "h": 62,
                    "w": 27,
                    "x": 66,
                    "y": 0
                },
                "trimmed": false
            },
            "walk_2": {
                "frame": {
                    "h": 62,
                    "w": 27,
                    "x": 96,
                    "y": 0
                },
                "rotated": false,
                "sourceSize": {
                    "h": 62,
                    "w": 27
                },
                "spriteSourceSize": {
                    "h": 62,
                    "w": 27,
                    "x": 96,
                    "y": 0
                },
                "trimmed": false
            }
        },
        "meta": {
            "app": "https://github.com/adamlwgriffiths/dfe_to_tp_pixi",
            "image": "barbarian.png",
            "scale": "1"
        }
    }


Known issues
============

* Sprite offset currently ignored
* Sprite sizes are 1:1, edit the JSON to change per frame sizes.
* per-frame 'delay' is ignored (TexturePacker limitation).
* Frames are not exported in order (Python issue).


Author
======

* `Adam Griffiths <https://github.com/adamlwgriffiths>`_
